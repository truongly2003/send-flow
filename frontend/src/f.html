<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chi·∫øn D·ªãch G·ª≠i Mail - Demo UI 2 B∆∞·ªõc</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body class="bg-gray-950 text-gray-100 min-h-screen flex flex-col items-center p-10">

  <!-- Khung ch√≠nh -->
  <div class="w-full max-w-3xl bg-gray-900 border border-gray-800 rounded-2xl shadow-lg p-8">

    <h1 class="text-2xl font-bold text-center text-blue-400 mb-8">
      üöÄ G·ª≠i Mail H√†ng Lo·∫°t - Demo UI (2 B∆∞·ªõc)
    </h1>

    <!-- üß© B∆∞·ªõc 1: T·∫°o chi·∫øn d·ªãch -->
    <div id="createSection" class="space-y-4">
      <input id="campaignName" type="text" placeholder="T√™n chi·∫øn d·ªãch..."
        class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-blue-500 focus:outline-none" />

      <textarea id="messageContent" placeholder="N·ªôi dung email..."
        class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-blue-500 focus:outline-none h-32"></textarea>

      <button id="createBtn"
        class="w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-semibold transition">
        T·∫°o Chi·∫øn D·ªãch
      </button>
    </div>

    <!-- üì® B∆∞·ªõc 2: G·ª≠i chi·∫øn d·ªãch -->
    <div id="sendSection" class="hidden mt-8">
      <h2 id="campaignTitle" class="text-lg font-semibold mb-4 text-green-400"></h2>

      <!-- Danh s√°ch li√™n h·ªá -->
      <div id="contactList" class="bg-gray-800 rounded-lg p-4 mb-4">
        <h3 class="text-gray-300 font-semibold mb-2">Danh s√°ch li√™n h·ªá</h3>
        <ul id="contactItems" class="space-y-2 text-sm text-gray-400"></ul>
      </div>

      <!-- Thanh ti·∫øn tr√¨nh -->
      <div class="w-full bg-gray-800 rounded-full h-4 mb-4 overflow-hidden">
        <div id="progressBar" class="h-4 bg-green-500 transition-all duration-300" style="width: 0%;"></div>
      </div>
      <p id="progressText" class="text-sm text-gray-400 mb-4">Ch∆∞a b·∫Øt ƒë·∫ßu g·ª≠i...</p>

      <!-- Log g·ª≠i mail -->
      <div id="logBox" class="h-48 overflow-y-auto bg-gray-800 rounded-lg p-4 text-sm border border-gray-700 mb-6"></div>

      <div class="flex gap-4">
        <button id="sendBtn"
          class="flex-1 py-3 bg-green-600 hover:bg-green-500 rounded-lg font-semibold transition">
          B·∫Øt ƒë·∫ßu g·ª≠i mail
        </button>
        <button id="resetBtn"
          class="flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition">
          T·∫°o chi·∫øn d·ªãch m·ªõi
        </button>
      </div>
    </div>

  </div>

  <script>
    const createBtn = document.getElementById("createBtn");
    const sendBtn = document.getElementById("sendBtn");
    const resetBtn = document.getElementById("resetBtn");

    const createSection = document.getElementById("createSection");
    const sendSection = document.getElementById("sendSection");

    const campaignTitle = document.getElementById("campaignTitle");
    const contactItems = document.getElementById("contactItems");
    const progressBar = document.getElementById("progressBar");
    const progressText = document.getElementById("progressText");
    const logBox = document.getElementById("logBox");

    const contacts = [
      "nguyen.a@gmail.com",
      "tran.b@gmail.com",
      "le.c@gmail.com",
      "pham.d@gmail.com",
      "vo.e@gmail.com",
      "hoang.f@gmail.com",
      "do.g@gmail.com",
      "phan.h@gmail.com",
      "ngo.i@gmail.com",
      "ly.j@gmail.com"
    ];

    createBtn.addEventListener("click", () => {
      const name = document.getElementById("campaignName").value.trim();
      const content = document.getElementById("messageContent").value.trim();
      if (!name || !content) return alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");

      // Chuy·ªÉn qua b∆∞·ªõc g·ª≠i
      createSection.classList.add("hidden");
      sendSection.classList.remove("hidden");

      campaignTitle.textContent = `Chi·∫øn d·ªãch: ${name}`;
      renderContacts();
    });

    resetBtn.addEventListener("click", () => {
      // Reset giao di·ªán
      sendSection.classList.add("hidden");
      createSection.classList.remove("hidden");
      document.getElementById("campaignName").value = "";
      document.getElementById("messageContent").value = "";
      progressBar.style.width = "0%";
      progressText.textContent = "Ch∆∞a b·∫Øt ƒë·∫ßu g·ª≠i...";
      logBox.innerHTML = "";
      contactItems.innerHTML = "";
    });

    sendBtn.addEventListener("click", () => {
      simulateSend();
    });

    function renderContacts() {
      contactItems.innerHTML = "";
      contacts.forEach((email) => {
        const li = document.createElement("li");
        li.innerHTML = `üìß ${email}`;
        contactItems.appendChild(li);
      });
    }

    function simulateSend() {
      let sent = 0;
      const total = contacts.length;
      addLog("üöÄ B·∫Øt ƒë·∫ßu g·ª≠i chi·∫øn d·ªãch...");

      const interval = setInterval(() => {
        if (sent >= total) {
          clearInterval(interval);
          progressText.textContent = "üéâ G·ª≠i ho√†n t·∫•t!";
          addLog("‚úÖ T·∫•t c·∫£ email ƒë√£ ƒë∆∞·ª£c g·ª≠i!");
          return;
        }

        sent++;
        const percent = Math.round((sent / total) * 100);
        progressBar.style.width = `${percent}%`;
        progressText.textContent = `ƒêang g·ª≠i ${sent}/${total} li√™n h·ªá...`;

        addLog(`‚úâÔ∏è ƒê√£ g·ª≠i t·ªõi ${contacts[sent - 1]}`);
      }, 600);
    }

    function addLog(msg) {
      const div = document.createElement("div");
      div.textContent = msg;
      div.className = "fade-in";
      logBox.appendChild(div);
      logBox.scrollTop = logBox.scrollHeight;
    }
  </script>
</body>
</html>
